{{ define "title" }}
	Network.Read
{{ end }}

{{ define "main" }}
	{{ if .Email }}
		<div id="message_copy" style="display: none" class="text-light mx-auto">
			<div class="alert alert-success" role="alert">
				<button type="button" class="close" onclick="close_block('message_copy')">
					<span>&times;</span>
				</button>
				Key copied
			</div>
		</div>
		<div class="form-group row">
			<div class="col-md-6 w-50">
				<button type="button" class="btn btn-success w-100" onclick="copy_text('public_key')">Copy public key</button>
			</div>
			<div class="col-md-6 w-50">
				<form class="text-center" method="POST" action="/network">
					<input type="hidden" name="email" value="{{ .Email.Hash }}">
					<input type="submit" name="delete" value="Delete" class="btn btn-danger w-100">
				</form>
			</div>
		</div>
		{{ $msg := (split .Email.Body "\n") }}
		<div class="card text-white bg-dark mb-3">
			<h5 class="card-header bg-secondary">Email</h5>
			<h5 class="card-header bg-dark">{{ .Email.Head }}</h5>
		  	<div class="card-body">
		    	{{ range $msg }}
		    		<h6 class="card-text">{{ . }}</h6>
		    	{{ end }}
		  	</div>
		</div>
		<div class="card text-white bg-dark mb-3">
			<h5 class="card-header bg-secondary">Sender</h5>
			<h5 class="card-header bg-dark">{{ .Email.SenderName }}</h5>
		  	<div class="card-body">
		    	<h6 class="card-text">{{ .Email.SenderPubl }}</h6>
		  	</div>
		</div>
		<div class="card text-white bg-dark mb-3">
			<h5 class="card-header bg-secondary">Time</h5>
		  	<div class="card-body">
		    	<h6 class="card-text">{{ .Email.Time }}</h6>
		  	</div>
		</div>
		<div class="card text-white bg-dark mb-3">
			<h5 class="card-header bg-secondary">Hash</h5>
		  	<div class="card-body">
		    	<h6 class="card-text">{{ .Email.Hash }}</h6>
		  	</div>
		</div>
		<div style="opacity:0">
			<input id="public_key" type="text" value="{{ .Email.SenderPubl }}">
		</div>
	{{ end }}
{{ end }}
