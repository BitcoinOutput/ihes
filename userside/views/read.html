{{ define "title" }}
	Network.Read
{{ end }}

{{ define "main" }}
	<div id="message_copy" class="text-light mx-auto"></div>
	<div class="form-group row">
		<div class="col-md-6 w-50">
			<button type="button" class="btn btn-success w-100" onclick="copy_public_key()">Copy public key</button>
		</div>
		<div class="col-md-6 w-50">
			<form class="text-center" method="POST" action="/network">
				<input type="hidden" name="email" value="{{ .Email.Hash }}">
				<input type="submit" name="delete" value="Delete" class="btn btn-danger w-100">
			</form>
		</div>
	</div>
	<div class="card text-white bg-dark mb-3">
		<h5 class="card-header bg-secondary">Email</h5>
	  	<div class="card-body">
	    	<h5 class="card-title">{{ .Email.Head }}</h5>
	    	<h6 class="card-text">{{ .Email.Body }}</h6>
	  	</div>
	</div>
	<div class="card text-white bg-dark mb-3">
		<h5 class="card-header bg-secondary">Sender</h5>
	  	<div class="card-body">
	  		<h5 class="card-title">{{ .Email.SenderName }}</h5>
	    	<h6 class="card-text">{{ .Email.SenderPubl }}</h6>
	  	</div>
	</div>
	<div class="card text-white bg-dark mb-3">
		<h5 class="card-header bg-secondary">Time</h5>
	  	<div class="card-body">
	    	<h6 class="card-text">{{ .Email.Time }}</h6>
	  	</div>
	</div>
	<div class="card text-white bg-dark mb-3">
		<h5 class="card-header bg-secondary">Hash</h5>
	  	<div class="card-body">
	    	<h6 class="card-text">{{ .Email.Hash }}</h6>
	  	</div>
	</div>
	<div style="opacity:0">
		<input id="public_key" type="text" value="{{ .Email.SenderPubl }}">
	</div>
	<script type="text/javascript">
		function copy_public_key() {
			var copyText = document.getElementById("public_key");
			copyText.select();
			document.execCommand("copy");
			let newInput = `
			<div class="alert alert-success" role="alert">
				<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				Public key copied
			</div>
			`
			document.getElementById("message_copy").innerHTML = newInput;
		} 
	</script>
{{ end }}
